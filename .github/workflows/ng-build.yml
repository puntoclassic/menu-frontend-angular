name: "Angular build specific configuration"

on: 
  workflow_call:
    inputs: 
      configuration:
        default: production
        type: string
      output-path:
        default: dist/prod
        type: string
jobs:  
  pack:    
    name: Create package
    runs-on: self-hosted  
    steps:      
      - name: Check out the repo
        uses: actions/checkout@v3     
      - name: Install dependencies
        run: npm install  
      - name: Build version
        run: npm run build --configuration=${{inputs.configuration}} --output-path=${{inputs.output-path}}
      - name: Generate package
        uses: actions/upload-artifact@v3
        with:
          name: "Build_${{inputs.configuration}}_${{github.run_number}}"
          path: ${{inputs.output-path}}
      
  
      
       