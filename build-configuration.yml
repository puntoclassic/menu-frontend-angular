parameters: 
- name: configuration
  type: string


steps:
  - script: npm run build -- --configuration=${{parameters.configuration}} --output-path=dist/${{parameters.configuration}}
    displayName: 'Compila ${{parameters.configuration}}'              
  - task: PublishPipelineArtifact@1
    inputs:
      targetPath: '$(Build.SourcesDirectory)/dist/${{parameters.configuration}}'  
      artifact: $(date:yyyyMMdd)$(Build.BuildId)_${{parameters.configuration}}       
      publishLocation: 'pipeline'
    displayName: "Pubblica artefatto per ${{parameters.configuration}}"